{% load static %}
<!DOCTYPE html>
<html lang="es">
  <head>
    <title>Crud DJANGO</title>
    <meta charset="UTF-8" />
    <meta name="title" content="Título de la WEB" />
    <meta name="description" content="Descripción de la WEB" />
    <!-- CSS only -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <nav class="navbar navbar-dark bg-dark">
      <div class="container-fluid">
        <span class="navbar-brand mb-0 h1">Prueba Python CRUD COBRANDO BPO</span>
        <span class="navbar-brand mb-0 h1">Jesus David Plitt</span>
      </div>
    </nav>
    <div class="container">    
      <div class="row">
        <div class="col-md-4 offset-md-4 mb-5 mt-5">
          <header>
            <h1>REGISTRAR EMPLEADO</h1>
          </header>
          <section>
            <article>
              <form
                action="{% url 'create_empleados' %}"
                method="POST"
                class="card card body"
              >
                {% csrf_token %}
                <label for="exampleInputEmail1" class="form-label">Codigo</label>
                <input
                  class="mb-4"
                  type="number"
                  name="codigo"
                  placeholder="Escriba el codigo"
                />
                <label for="exampleInputEmail1" class="form-label">Nif</label>
                <input class="mb-4" type="text" name="nif" placeholder="Escriba el nif" />
                <label for="exampleInputEmail1" class="form-label">Nombre</label>
                <input
                  class="mb-4"
                  type="text"
                  name="nombre"
                  placeholder="Escriba el nombre"
                />
                <label for="exampleInputEmail1" class="form-label">Primer apellido</label>
                <input
                  class="mb-4"
                  type="text"
                  name="apellido1"
                  placeholder="Escriba el primer apellido"
                />
                <label for="exampleInputEmail1" class="form-label">Segundo Apellido</label>
                <input
                  class="mb-4"
                  type="text"
                  name="apellido2"
                  placeholder="Escriba el segundo apellido"
                />
                <label for="exampleInputEmail1" class="form-label">Codigo departamento</label>
                <input
                  class="mb-4"
                  type="number"
                  name="codigo_departamento"
                  placeholder="Escriba el codigo del departamento"
                />
                <button  class="bg-success">Save</button>
              </form>
            </article>
          </section>
        </div>
        <table class="table table-dark table-striped">
          <thead>
            <tr>
              <th>Codigo</th>
              <th>Nif</th>
              <th>Nombre</th>
              <th>Primer apellido</th>
              <th>Segundo apellido</th>
              <th>codigo departamento</th>
              <th>Acciones</th>
            </tr>
          </thead>

          <tbody>
            {% for empleado in empleados %}
            <tr>
              <td>{{empleado.codigo}}</td>
              <td>{{empleado.nif}}</td>
              <td>{{empleado.nombre}}</td>
              <td>{{empleado.apellido1}}</td>
              <td>{{empleado.apellido2}}</td>
              <td>{{empleado.codigo_departamento}}</td>
              <td>
                <form
                  action="{% url 'delete_empleados' empleado.id %}"
                  method="POST"
                >
                  {% csrf_token %}<button class="mb-2 bg-danger" style=" width: 60px;
                  height: 40px;
                  border-radius: 40%;" >Delete</button>
                </form>
                <form
                action="{% url 'edicion_empleados' empleado.id %}"
                method="POST"
              >
                {% csrf_token %}<button style="  width: 60px;
                height: 40px;
                border-radius: 40%;"  class="bg-primary">Edit</button>
              </form>
              </td>
            </tr>

            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </body>
</html>
